<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Inventario</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="header">
        <a href="index.html">
            <img src="/logo.png" alt="Promerica Logo" class="logo">
        </a>
        <h1>Inventario de Productos</h1>
    </div>

    <div class="form-container">
        <form action="/subir-archivo" method="POST" enctype="multipart/form-data" class="upload-form">
            <label for="archivoExcel" class="upload-label">Cargar archivo Excel:</label>
            <input type="file" id="archivoExcel" name="archivoExcel" accept=".xlsx" required class="input-file">
            <button type="submit" class="btn-upload">Subir Archivo</button>
        </form>
    </div>
    <br>
    <div class="search-container">
        <label for="buscarTermino">Buscar en inventario:</label>
        <input type="text" id="buscarTermino" class="input-buscar" placeholder="Ingrese un término de búsqueda">
        <button onclick="buscar()" class="btn-buscar">Buscar</button>
    </div>

    <!-- Campo para leer por código de barras -->
    <div class="barcode-container">
        <label for="codigoBarras">Escanear Código de Barras:</label>
        <input type="text" id="codigoBarras" class="input-barcode" placeholder="Escanee el código de barras"
            oninput="leerCodigoBarras()" autofocus>
        <button onclick="buscarCodigoBarras()" class="btn-buscar-codigo">Buscar Código</button>
    </div>

    <script>
        function buscar() {
            const termino = document.getElementById('buscarTermino').value;
            if (termino) {
                window.location.href = `/resultados.html?termino=${termino}`;
            }
        }

        function leerCodigoBarras() {
            const codigo = document.getElementById('codigoBarras').value;
            if (codigo.length >= 8) { // Ajusta este número según tus necesidades
                buscarCodigoBarras(codigo);
            }
        }

        function buscarCodigoBarras(codigo) {
            window.location.href = `/resultados.html?codigo=${codigo}`;
        }
    </script>

    <div class="footer">
        © 2024 Banco Promerica - Todos los derechos reservados
    </div>

    <script src="/index.js"></script>

</body>

</html>